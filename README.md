# 实体类型维度说明

本文档定义了事件抽取系统中使用的实体类型分类体系

---

## 完整实体类型表

| 维度              | 类型标识符   | 中文名称 | 定义说明                                                                 
| ----------------- | ------------ | -------- | ------------------------------------------------------------------------ | ------------------- | ------------------ | ------------ |
| **WHO<br>主体**   | person       | 人物     | 真实或虚构的个人                                                         | 
|                   | organization | 机构     | 机构、公司、学校、实验室                                                 |
|                   | group        | 群体     | 群体、人群、族群、团队                                                   | 
| **WHAT<br>客体**  | organism     | 动植物   | 动植物、微生物                                                           | 
|                   | offering     | 产品服务 | 产品或者服务,例如:一双鞋;一张演唱会门票;租车;理发;或者在线直播的电视节目 |
|                   | work         | 作品     | 作品(论文、影视、文章、专辑)                                             | 
|                   | project      | 项目     | 项目、计划、工程                                                         | 
|                   | brand        | 品牌     | 品牌                                                                     | 
|                   | platform     | 平台     | 平台、网站、系统                                                         | 
|                   | knowledge    | 知识     | 生物化学名词、医疗名词、算法模型、法律概念等                             |
|                   | policy       | 政策     | 政策、制度                                                               | 
|                   | event        | 事件     | 事件、活动、赛事                                                         | 
|                   | award        | 奖项     | 奖项、荣誉、勋章、称号                                                   | 
| **WHEN<br>时间**  | time         | 时间点   | 时间点，例如2000年1月1日                                                 |
|                   | time_range   | 时间区间 | 时间区间   ，例如2000年1月-3月                                           | 
|                   | holiday      | 节假日   | 节假日、纪念日                                                           | 
|                   | state        | 状态     | 状态,比如事件状态(进行中/已完成/取消、产品上市/下架,获奖提名/落选等等)   | 
|                   | period       | 时期     | 时期、时代、年代   ，例如冷战时期                                          | 
| **WHERE<br>空间** | location     | 地点     | 地点                                                                     | 
| **ABOUT<br>主题** | subject      | 话题     | 话题、学科、领域、研究方向、主题                                         | 
|                   | metric       | 度量     | 比分、排名、得分、价格                                                   | 
|                   | phenomenon   | 现象     | 现象,比如全球变暖、通货膨胀                                              | 
|                   | action       | 行为     | 行为                                                                     |
| **特殊**          | other        | 其他     | 无法归入上述任何类型的实体                                               | 



**总计**: 23个预定义类型 + 1个其他类型(other)
只有在确实无法归类时才使用 `other`


## 评估指标

采用以下5个指标，大致评估实体抽取的性能:

### 指标1: 覆盖率
- **定义**: 每条事件平均能抽出多少实体
- **统计项**:
  - 总事件数
  - 总实体数
  - 平均每事件实体数
  - 中位数
  - 最大值/最小值
- **含义**: 衡量系统从文本中抽取实体的丰富程度

### 指标2: 空抽率
- **定义**: entities 为空的事件比例
- **计算公式**: `空抽率 = 空实体事件数 / 总事件数`
- **含义**: 衡量系统未能抽取到任何实体的情况

### 指标3: 类型模糊率
- **定义**: entity.type 被标为 "other / 不确定 / unknown" 的实体比例
- **计算公式**: `类型模糊率 = 模糊类型实体数 / 总实体数`
- **含义**: 衡量系统对实体类型判断的确定性

### 指标4: 一致性
- **定义**: 同一文本多次提取的结果一致性
- **测试方法**: 对同一文本进行多次抽取(默认3次),统计同一实体被标记为不同类型的情况
- **计算公式**: `一致性率 = 1 - (类型不一致实体数 / 唯一实体总数)`
- **含义**: 衡量系统抽取结果的稳定性和可靠性

### 指标5: 类型频率分布
- **定义**: 统计各实体类型的使用频率
- **统计项**:
  - 使用的类型总数
  - 各类型出现次数及百分比
  - 高频类型(Top 10)
  - 低频类型(< 1%)
  - 未使用的定义类型
- **含义**: 分析实体类型体系的使用情况,发现可能需要优化的类型定义

---

## 实验结果

### 测试环境
- **测试数据集**: [待补充]
- **测试样本数**: [待补充]
- **模型版本**: [待补充]
- **测试时间**: [待补充]

### 指标1: 覆盖率

总事件数: 641
总实体数: 4113
平均每事件实体数: 6.42
中位数: 6
最大值: 26
最小值: 1
### 指标2: 空抽率

空实体事件数: 0
空抽率: 0.00%

### 指标3: 类型模糊率

总实体数: 4113
模糊类型实体数: 29
类型模糊率: 0.71%

**模糊类型示例**:
模糊类型示例:
  1. SC-26,438 (other) - 开发代号
  2. 外部链接 (other) - 页面存档备份链接
  3. 手按式 (other) - 空氣喇叭类型
  4. 高压瓶式 (other) - 空氣喇叭类型
  5. 压缩机式 (other) - 空氣喇叭类型


### 指标5: 类型频率分布

#### 整体统计


前10高频类型:
  organization         (机构        ):    654 次 (15.90%)
  time                 (时间点       ):    480 次 (11.67%)
  metric               (度量        ):    476 次 (11.57%)
  location             (地点        ):    373 次 ( 9.07%)
  event                (事件        ):    326 次 ( 7.93%)
  subject              (话题        ):    316 次 ( 7.68%)
  person               (人物        ):    314 次 ( 7.63%)
  work                 (作品        ):    309 次 ( 7.51%)
  action               (行为        ):    207 次 ( 5.03%)
  knowledge            (知识        ):    177 次 ( 4.30%)

低频类型 (<1%, 共14个):
  title                (title     ):      1 次
  color                (color     ):      2 次
  platform             (平台        ):     38 次
  state                (��态       ):      6 次
  project              (项目        ):      5 次
  offering             (产品服务      ):      7 次
  position             (position  ):      5 次
  other                (other     ):     29 次
  period               (时期        ):      9 次
  language             (language  ):      4 次

未使用的定义类型 (共1个):
  holiday
---

#### 此外，通过人工&大模型抽检，发现下面几个问题：
#### 当前的问题（待优化）

**1.表格较多时会忽略其中某些表格或者行，表格信息丢失**
badcase:0999996_2023年亚洲场地自行车锦标赛，0493553_中国宋庆龄基金会
----->prompt 增加“如果文本中包含表格,请逐个、逐行去除表格中的信息，每一行可能是一个独立的事实”

**2.药品别名/疾病别名/中国人的外文名丢失**
badcase:1093081_反芻症候群,0701452_硝酸甘油， 0391339_高志远
----->

**3.实体类型标错**
badcase: ClF3被标为organism类,"反芻症候群"有时是knowledge,有时是phenomenon
----->新增few-shot?

**4.数学公式、化学方程式丢失---->增加实体“公式”**


**5.已规定的实体类型未被抽取**
badcase: 1052351_三菱Delica，发动机规格（指标类）、历史事件线（时间点类）

**6.出现未定义的实体类型**
badecase: title，color


#### 优化建议
[待补充针对性的改进建议]

---

**完整评估报告详见**: [evaluation_report.txt](evaluation_report.txt)